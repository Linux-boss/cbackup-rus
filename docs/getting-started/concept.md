# Концепция

cBackup использует протоколы SNMP, Telnet и SSH для связи с устройствами и для извлечения данных из узлов. SNMP используется для процессов обнаружения и опроса узлов. Резервное копирование узлов возможно только через протокол Telnet или SSH, однако SNMP предоставляет более подробные данные для управления узлами.

Сам cBackup состоит из двух частей: веб-интерфейса и демона. Веб-интерфейс написан на PHP фреймворке [Yii2 framework](http://www.yiiframework.com), а демон - это приложение Java Spring, работающее в качестве системной службы. Демон общается с web-ядром cBackup через REST API по протоколу HTTP.

# Ключевые термины

<div id="teminology-table"></div>

_Term_ | _Definition_
------------ | -------------
Узел | Сетевое оборудование, объект чья конфигурация подлежит резервному копированию. Чаще всего **узел** это коммутатор или маршрутизатор различных классов.
Устройство | Класс или группа сетевого оборудования с описанием значений производителя и модели устройства. Для каждого устройства назначается **шаблон аутентификации**
Шаблон аутентификации | Последовательность запросов и ответов требуемых для аутентификации на устройстве через Telnet. Каждый шаблон может быть назначен любому **устройству**. Доступны несколько макросов (такие как {{telnet_login}}, {{telnet_password}}) предоставляющих данные из **реквизитов**.<br><br><div class="warning">**⚠ ВНИМАНИЕ!!!** <br>При коммуникации через SSH все макросы будут игнорироваться и исходные данные будут получены напрямую из **реквизитов**. Остальная часть последовательности, если необходимо будет использоваться для отправки пароля привелигерованного режима. Смотрите в [authentiaction documentation](../administrators-guide/authentication) для подробного изучения.</div>
Подсеть | Простая подсеть любого класса определенного в CIDR формате. Для каждой подсети указываются определенные **реквизиты**. 
Реквизиты | Указанные данные для аутентификации (имена пользователей, пароли, протоколы, номера портов и т.д), которые используются в процессе аутентификации. Реквизиты могут быть назначены любому количеству подсетей и использоваться в многочисленных процессах cBackup.
Обнаружение | Процесс проверки узлов во всех указанных подсетях. Обнаруживаются новые узлы, а существующие проверяются на наличие изменений (например, если модель устройства была изменена).
Демон | Главный демон cBackup с внутренним планировщиком заданий - это исполняемый файл .JAR. Он управляет процессами обнаружения, опроса и получения необходимых данных конфигурации. Общается с web-ядром cBackup через REST API.
Расписание | cBackup использует собственный планировщик заданий и не зависит от системного планировщика cron. Вы сможете запланировать системные задачи и настроить отправку отчетов через электронную почту. Каждое запланированное событие = одной задаче.
Задача | Конкретное задание, которая может быть назначено узлам или устройствам. Задача состоит из **обработок**.
Обработка | Набор команд, которые предназначены для обработки определенного функционала. Обычно обработка содержит в себе информацию о протоколе и состоит из **последовательности заданий**
Задание | Специальная команда (Telnet или SSH в зависимости от протокола **обработки**). Это также может быть SNMP OID, если обработка, содержащая это задание, работает по протоколу SNMP.

# Компоненты процесса

Чтобы лучше понять связи компонентов процесса, воспользуйтесь диаграммой:

![Process elements relations](../assets/processes1.png)
